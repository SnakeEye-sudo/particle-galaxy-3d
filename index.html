<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Particle Galaxy 3D</title><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#0a0e27;color:#fff;overflow:hidden;height:100vh;font-family:Arial,sans-serif}canvas{display:block}#ui{position:fixed;top:20px;left:20px;background:rgba(10,14,39,.9);border:1px solid #00d4ff;padding:20px;border-radius:10px;font-size:13px;z-index:100}#ui h2{margin-bottom:15px;color:#00d4ff}input,button{width:100%;padding:8px;margin:5px 0;border:1px solid #00d4ff;background:rgba(0,212,255,.1);color:#fff;border-radius:5px}button{background:linear-gradient(135deg,#00d4ff,#7c3aed);border:none;cursor:pointer;font-weight:bold}button:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,212,255,.3)}#stats{position:fixed;top:20px;right:20px;background:rgba(10,14,39,.9);border:1px solid #7c3aed;padding:15px;border-radius:10px;font-size:12px;font-family:monospace;z-index:100}</style></head><body><div id="ui"><h2>Particle Galaxy</h2><label>Particles: <span id="pCount">3000</span></label><input type="range" id="particles" min="500" max="10000" value="3000" step="500"><label>Gravity: <span id="gVal">0.5</span></label><input type="range" id="gravity" min="0" max="2" value="0.5" step="0.1"><button id="reset">Reset</button></div><div id="stats"><div>FPS: <span id="fps">0</span></div><div>Particles: <span id="pDisplay">0</span></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script><script>const scene=new THREE.Scene(),camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,10000),renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0});renderer.setSize(window.innerWidth,window.innerHeight),renderer.setClearColor(0x0a0e27),document.body.appendChild(renderer.domElement),camera.position.z=250;const light=new THREE.AmbientLight(16777215,.4);scene.add(light);const plight=new THREE.PointLight(0x00d4ff,1,500);plight.position.set(100,100,100),scene.add(plight);let particles=[],geom,mat,mesh,gravity=.5,rot={x:0,y:0};function init(e){mesh&&scene.remove(mesh),particles=[],geom=new THREE.BufferGeometry;const t=new Float32Array(3*e),r=new Float32Array(3*e);for(let i=0;i<e;i++){const a=2*Math.random()*Math.PI,o=150*Math.random(),s=50*(Math.random()-.5);t[3*i]=Math.cos(a)*o,t[3*i+1]=s,t[3*i+2]=Math.sin(a)*o;const c=new THREE.Color;c.setHSL(i/e,1,.6),r[3*i]=c.r,r[3*i+1]=c.g,r[3*i+2]=c.b,particles.push({pos:[t[3*i],t[3*i+1],t[3*i+2]],vel:{x:.5*Math.random()-.25,y:.5*Math.random()-.25,z:.5*Math.random()-.25}})}geom.setAttribute("position",new THREE.BufferAttribute(t,3)),geom.setAttribute("color",new THREE.BufferAttribute(r,3)),mat=new THREE.PointsMaterial({size:2,vertexColors:!0,transparent:!0,opacity:.8}),mesh=new THREE.Points(geom,mat),scene.add(mesh),document.getElementById("pDisplay").textContent=e}function update(){const e=geom.attributes.position.array;for(let t=0;t<particles.length;t++){const r=particles[t],i=Math.sqrt(r.pos[0]**2+r.pos[1]**2+r.pos[2]**2);i>0&&(r.vel.x-=r.pos[0]/i*gravity*.001,r.vel.y-=r.pos[1]/i*gravity*.001,r.vel.z-=r.pos[2]/i*gravity*.001),r.pos[0]+=r.vel.x,r.pos[1]+=r.vel.y,r.pos[2]+=r.vel.z,e[3*t]=r.pos[0],e[3*t+1]=r.pos[1],e[3*t+2]=r.pos[2]}geom.attributes.position.needsUpdate=!0}let drag=!1,prevMouse={x:0,y:0};document.addEventListener("mousedown",()=>{drag=!0}),document.addEventListener("mouseup",()=>{drag=!1}),document.addEventListener("mousemove",e=>{drag&&(rot.x+=.005*(e.clientY-prevMouse.y),rot.y+=.005*(e.clientX-prevMouse.x)),prevMouse={x:e.clientX,y:e.clientY}}),document.addEventListener("wheel",e=>{e.preventDefault(),camera.position.z+=.2*e.deltaY,camera.position.z=Math.max(50,Math.min(500,camera.position.z))}),document.getElementById("particles").addEventListener("change",e=>{init(parseInt(e.target.value)),document.getElementById("pCount").textContent=e.target.value}),document.getElementById("gravity").addEventListener("input",e=>{gravity=parseFloat(e.target.value),document.getElementById("gVal").textContent=gravity.toFixed(1)}),document.getElementById("reset").addEventListener("click",()=>{init(parseInt(document.getElementById("particles").value)),rot={x:0,y:0}});let lastTime=Date.now(),frameCount=0;function animate(){requestAnimationFrame(animate),update(),mesh&&(mesh.rotation.x+=rot.x,mesh.rotation.y+=rot.y,mesh.rotation.z+=.0002,rot.x*=.98,rot.y*=.98),renderer.render(scene,camera),frameCount++;const e=Date.now();e>=lastTime+1e3&&(document.getElementById("fps").textContent=frameCount,frameCount=0,lastTime=e)}init(3e3),animate(),window.addEventListener("resize",()=>{camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)});</script></body></html>
